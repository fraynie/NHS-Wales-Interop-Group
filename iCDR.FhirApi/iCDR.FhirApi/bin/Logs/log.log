2017-12-20 10:03:03,119 ERROR - POST http://localhost:12345/Procedure InternalServerError
2017-12-20 10:03:03,159 DEBUG - System.NullReferenceException: Object reference not set to an instance of an object.
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndexInternal(Int32 resourceId, String field, Object obj) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 647
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndex(String field, DomainResource resource) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 634
   at iCDR.FhirApi.iCdrHelper.SaveNewFhirResource(DomainResource resource, List`1 searchIndexFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 530
   at iCDR.FhirApi.iCdrHelper.ProcessPostRequest[TResource](Request request, List`1 searchFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 74
2017-12-20 10:03:03,174 DEBUG - <Procedure xmlns="http://hl7.org/fhir"><id value="example" /><text><status value="generated" /><div xmlns="http://www.w3.org/1999/xhtml">Routine Appendectomy</div></text><status value="completed" /><contained><Patient><id value="#p1" /><identifier><system value="https://fhir.nhs.uk/Id/nhs-number" /><value value="1231234568" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.108" /><value value="A8098666" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.140" /><value value="X123456" /></identifier><active value="true" /><name><family value="Dunne" /><given value="John" /></name><gender value="male" /><birthDate value="1956-05-27" /><address><line value="100 Main St" /><city value="Barry" /><postalCode value="CF62 1XX" /><country value="UK" /></address></Patient></contained><code><coding><system value="http://snomed.info/sct" /><code value="80146002" /><display value="Appendectomy (Procedure)" /></coding><text value="Appendectomy" /></code><subject><reference value="#p1" /></subject><performedDateTime value="2013-04-05" /><performer><actor><display value="Mr Cecil Surgeon" /></actor></performer><reasonCode><text value="Generalized abdominal pain 24 hours. Localized in RIF with rebound and guarding" /></reasonCode><followUp><text value="ROS 5 days  - 2013-04-10" /></followUp><note><text value="Routine Appendectomy. Appendix was inflamed and in retro-caecal position" /></note></Procedure>
2017-12-20 10:07:29,213 ERROR - POST http://localhost:12345/Procedure InternalServerError
2017-12-20 10:07:29,214 DEBUG - System.NullReferenceException: Object reference not set to an instance of an object.
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndexInternal(Int32 resourceId, String field, Object obj) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 647
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndex(String field, DomainResource resource) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 634
   at iCDR.FhirApi.iCdrHelper.SaveNewFhirResource(DomainResource resource, List`1 searchIndexFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 530
   at iCDR.FhirApi.iCdrHelper.ProcessPostRequest[TResource](Request request, List`1 searchFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 74
2017-12-20 10:07:29,216 DEBUG - <Procedure xmlns="http://hl7.org/fhir"><id value="example" /><text><status value="generated" /><div xmlns="http://www.w3.org/1999/xhtml">Routine Appendectomy</div></text><status value="completed" /><contained><Patient><id value="#p1" /><identifier><system value="https://fhir.nhs.uk/Id/nhs-number" /><value value="1231234568" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.108" /><value value="A8098666" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.140" /><value value="X123456" /></identifier><active value="true" /><name><family value="Dunne" /><given value="John" /></name><gender value="male" /><birthDate value="1956-05-27" /><address><line value="100 Main St" /><city value="Barry" /><postalCode value="CF62 1XX" /><country value="UK" /></address></Patient></contained><code><coding><system value="http://snomed.info/sct" /><code value="80146002" /><display value="Appendectomy (Procedure)" /></coding><text value="Appendectomy" /></code><subject><reference value="#p1" /></subject><performedDateTime value="2013-04-05" /><performer><actor><display value="Mr Cecil Surgeon" /></actor></performer><reasonCode><text value="Generalized abdominal pain 24 hours. Localized in RIF with rebound and guarding" /></reasonCode><followUp><text value="ROS 5 days  - 2013-04-10" /></followUp><note><text value="Routine Appendectomy. Appendix was inflamed and in retro-caecal position" /></note></Procedure>
2017-12-20 10:08:10,643 ERROR - POST http://localhost:12345/Procedure InternalServerError
2017-12-20 10:08:10,645 DEBUG - System.NullReferenceException: Object reference not set to an instance of an object.
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndexInternal(Int32 resourceId, String field, Object obj) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 647
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndex(String field, DomainResource resource) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 634
   at iCDR.FhirApi.iCdrHelper.SaveNewFhirResource(DomainResource resource, List`1 searchIndexFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 530
   at iCDR.FhirApi.iCdrHelper.ProcessPostRequest[TResource](Request request, List`1 searchFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 74
2017-12-20 10:08:10,647 DEBUG - <Procedure xmlns="http://hl7.org/fhir"><id value="example" /><text><status value="generated" /><div xmlns="http://www.w3.org/1999/xhtml">Routine Appendectomy</div></text><status value="completed" /><contained><Patient><id value="#p1" /><identifier><system value="https://fhir.nhs.uk/Id/nhs-number" /><value value="1231234568" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.108" /><value value="A8098666" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.140" /><value value="X123456" /></identifier><active value="true" /><name><family value="Dunne" /><given value="John" /></name><gender value="male" /><birthDate value="1956-05-27" /><address><line value="100 Main St" /><city value="Barry" /><postalCode value="CF62 1XX" /><country value="UK" /></address></Patient></contained><code><coding><system value="http://snomed.info/sct" /><code value="80146002" /><display value="Appendectomy (Procedure)" /></coding><text value="Appendectomy" /></code><subject><reference value="#p1" /></subject><performedDateTime value="2013-04-05" /><performer><actor><display value="Mr Cecil Surgeon" /></actor></performer><reasonCode><text value="Generalized abdominal pain 24 hours. Localized in RIF with rebound and guarding" /></reasonCode><followUp><text value="ROS 5 days  - 2013-04-10" /></followUp><note><text value="Routine Appendectomy. Appendix was inflamed and in retro-caecal position" /></note></Procedure>
2017-12-20 10:10:34,717 ERROR - POST http://localhost:12345/Procedure InternalServerError
2017-12-20 10:10:34,735 DEBUG - System.NullReferenceException: Object reference not set to an instance of an object.
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndexInternal(Int32 resourceId, String field, Object obj) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 647
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndex(String field, DomainResource resource) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 634
   at iCDR.FhirApi.iCdrHelper.SaveNewFhirResource(DomainResource resource, List`1 searchIndexFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 530
   at iCDR.FhirApi.iCdrHelper.ProcessPostRequest[TResource](Request request, List`1 searchFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 74
2017-12-20 10:10:34,737 DEBUG - <Procedure xmlns="http://hl7.org/fhir"><id value="example" /><text><status value="generated" /><div xmlns="http://www.w3.org/1999/xhtml">Routine Appendectomy</div></text><status value="completed" /><contained><Patient><id value="#p1" /><identifier><system value="https://fhir.nhs.uk/Id/nhs-number" /><value value="1231234568" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.108" /><value value="A8098666" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.140" /><value value="X123456" /></identifier><active value="true" /><name><family value="Dunne" /><given value="John" /></name><gender value="male" /><birthDate value="1956-05-27" /><address><line value="100 Main St" /><city value="Barry" /><postalCode value="CF62 1XX" /><country value="UK" /></address></Patient></contained><code><coding><system value="http://snomed.info/sct" /><code value="80146002" /><display value="Appendectomy (Procedure)" /></coding><text value="Appendectomy" /></code><subject><reference value="#p1" /></subject><performedDateTime value="2013-04-05" /><performer><actor><display value="Mr Cecil Surgeon" /></actor></performer><reasonCode><text value="Generalized abdominal pain 24 hours. Localized in RIF with rebound and guarding" /></reasonCode><followUp><text value="ROS 5 days  - 2013-04-10" /></followUp><note><text value="Routine Appendectomy. Appendix was inflamed and in retro-caecal position" /></note></Procedure>
2017-12-20 10:11:22,181 ERROR - POST http://localhost:12345/Procedure InternalServerError
2017-12-20 10:11:22,182 DEBUG - System.NullReferenceException: Object reference not set to an instance of an object.
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndexInternal(Int32 resourceId, String field, Object obj) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 647
   at iCDR.FhirApi.iCdrHelper.AddSearchDataToIndex(String field, DomainResource resource) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 634
   at iCDR.FhirApi.iCdrHelper.SaveNewFhirResource(DomainResource resource, List`1 searchIndexFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 530
   at iCDR.FhirApi.iCdrHelper.ProcessPostRequest[TResource](Request request, List`1 searchFields) in C:\Users\ma000310\documents\visual studio 2015\Projects\iCDR.FhirApi\iCDR.FhirApi\iCdrHelper.cs:line 74
2017-12-20 10:11:22,185 DEBUG - <Procedure xmlns="http://hl7.org/fhir"><id value="example" /><text><status value="generated" /><div xmlns="http://www.w3.org/1999/xhtml">Routine Appendectomy</div></text><status value="completed" /><contained><Patient><id value="#p1" /><identifier><system value="https://fhir.nhs.uk/Id/nhs-number" /><value value="1231234568" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.108" /><value value="A8098666" /></identifier><identifier><system value="urn:oid:2.16.840.1.113883.2.1.8.1.3.140" /><value value="X123456" /></identifier><active value="true" /><name><family value="Dunne" /><given value="John" /></name><gender value="male" /><birthDate value="1956-05-27" /><address><line value="100 Main St" /><city value="Barry" /><postalCode value="CF62 1XX" /><country value="UK" /></address></Patient></contained><code><coding><system value="http://snomed.info/sct" /><code value="80146002" /><display value="Appendectomy (Procedure)" /></coding><text value="Appendectomy" /></code><subject><reference value="#p1" /></subject><performedDateTime value="2013-04-05" /><performer><actor><display value="Mr Cecil Surgeon" /></actor></performer><reasonCode><text value="Generalized abdominal pain 24 hours. Localized in RIF with rebound and guarding" /></reasonCode><followUp><text value="ROS 5 days  - 2013-04-10" /></followUp><note><text value="Routine Appendectomy. Appendix was inflamed and in retro-caecal position" /></note></Procedure>
2017-12-20 10:13:33,590 INFO - POST http://localhost:12345/Procedure Created
